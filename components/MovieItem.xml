<?xml version="1.0" encoding="utf-8" ?>
<component name="MovieItem" extends="Group">
  <children>
    <Poster id="moviePoster"
      translation="[2, 0]"
      width="196"
      height="294"
      />
    <Label id="title"
      horizAlign="center"
      translation="[0,319]"
      font="font:MediumSystemFont"
      width="196"
      height="65" />
  </children>
  <interface>
    <field id="itemContent" type="node" onChange="itemContentChanged"/>
  </interface>

  <script type="text/brightscript">
  <![CDATA[
  sub Init()
    m.title = m.top.findNode("title")
    m.poster = m.top.findNode("moviePoster")
    m.title.text = "Loading..."
  end sub

  function itemContentChanged() as void
    ' re-declare this because init doesnt re-run
    ' when we come back from elsewhere
    m.title = m.top.findNode("title")
    m.poster = m.top.findNode("moviePoster")

    itemData = m.top.itemContent
    m.title.text = itemData.title
    m.poster.uri = itemData.posterUrl
  end function
  ]]>
  </script>

</component>
