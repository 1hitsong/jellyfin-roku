<?xml version="1.0" encoding="utf-8" ?>
<component name="TVShowItemDetailScene" extends="Scene">
  <children>
    <PanelSet id="panelset">
      <Panel id="panel-desc">
        <TVShowDescription id="description" />
      </Panel>
      <Panel id="panel-seasons">
        <TVSeasonRow id="seasons" />
      </Panel>
    </PanelSet>
  </children>
  <interface>
    <field id="itemData" type="node" onChange="dataChanged" />
    <field id="seasonData" type="associativearray" onChange="seasonChanged" />
    <field id="focus" type="node" onChange="focusChanged" alias="panelset.focusedChild" alwaysNotify="false" />
  </interface>
  <script type="text/brightscript">
  <![CDATA[
    sub init()
      set = m.top.findNode("panelset")
      set.height = 1080

      panel = set.findNode("panel-desc")
      panel.panelSize = "full"
      panel.hasNextPanel = true
      panel.isFullScreen = true
      panel.leftPosition = 150

      panel2 = set.findNode("panel-seasons")
      panel2.panelSize = "full"
      panel2.hasNextPanel = false
      panel2.isFullScreen = true
    end sub

    sub dataChanged()
      m.top.findNode("description").itemContent = m.top.itemData
    end sub

    sub seasonChanged()
      m.top.findNode("seasons").TVSeasonData = m.top.seasonData
    end sub

    sub focusChanged()
      if m.top.focus.id = "panel-desc"
        m.top.focus.findNode("buttons").setFocus(true)
      end if
    end sub
  ]]>
  </script>
</component>
